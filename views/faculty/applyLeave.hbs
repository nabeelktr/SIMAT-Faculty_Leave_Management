<div class="loader-bg"></div>
<div class="loader">
    <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-spinner-teal lighten-1">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-yellow">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
        <div class="spinner-layer spinner-green">
            <div class="circle-clipper left">
                <div class="circle"></div>
            </div>
            <div class="gap-patch">
                <div class="circle"></div>
            </div>
            <div class="circle-clipper right">
                <div class="circle"></div>
            </div>
        </div>
    </div>
</div>
<div class="mn-content fixed-sidebar">
    <header class="mn-header navbar-fixed">
        <nav style="background-image: linear-gradient(to right, rgba(43, 0, 0), rgba(0, 16, 79));">
            <div class="nav-wrapper row">
                <section class="material-design-hamburger navigation-toggle">
                    <a href="#" data-activates="slide-out"
                        class="button-collapse show-on-large material-design-hamburger__icon">
                        <span class="material-design-hamburger__layer"></span>
                    </a>
                </section>
                <div class="header-title col s3">
                    <span class="chapter-title">SIMAT e-GOVERNANCE SYSTEM | Faculty</span>
                </div>


            </div>
        </nav>
    </header>

    <aside id="slide-out" class="side-nav white fixed">
        <div class="side-nav-wrapper">
            <div class="sidebar-profile">
                <div class="sidebar-profile-image">
                    <img src="/assets/images/profile-image.png" class="circle" alt="">
                </div>
                <div class="sidebar-profile-info">

                    <p></p>
                    <span></span>


                </div>
            </div>

            <ul class="sidebar-menu collapsible collapsible-accordion" data-collapsible="accordion">

                <li class="no-padding"><a class="waves-effect waves-grey" href="/users/update-profile/{{user._id}}"><i
                            class="material-icons">account_box</i>{{user.name}}</a></li>
                <li class="no-padding"><a class="waves-effect waves-grey" href="/users/changePassword"><i
                            class="material-icons">settings_input_svideo</i>Change Password</a></li>
                <li class="no-padding">
                    <a class="collapsible-header waves-effect waves-grey"><i class="material-icons">apps</i>Leaves<i
                            class="nav-drop-icon material-icons">keyboard_arrow_right</i></a>
                    <div class="collapsible-body">
                        <ul>
                            <li><a href="/users/applyLeave">Apply Leave</a></li>
                             {{#if user.hood}}
                           
                           <li><a href="/users/leaves">Leave Request</a></li>
                           {{/if}}
                            <li><a href="/users/leaveHistory/{{user.id}}">Leave History</a></li>
                        </ul>
                    </div>
                </li>



                <li class="no-padding">
                    <a class="waves-effect waves-grey" href="/users/signOut"><i
                            class="material-icons">exit_to_app</i>Sign
                        Out</a>
                </li>


            </ul>
            <div class="footer">
                <p class="copyright"><a href="http://simat.ac.in/">SIMAT e-GOVERNANCE</a>Â©</p>

            </div>
        </div>
    </aside>
    <main class="mn-inner">
        <div class="row">

            <div class="page-title" style="    font-weight: bold;">Leave Application</div>
        </div>
        <div class="col s12 m12 l8">
            <div class="card">
                <div class="card-content">
                    <form  action="/users/applyLeave/{{user._id}}"  method="post" >
                        <div>
                            <h5>Provide the details below :</h5>
                            <section>
                                <div class="wizard-content">
                                    <div class="row">
                                        <div class="col m12">



                                            <!-- Select Leave Type -->
                                            <div class="input-field col  s12">
                                                <select id="selectval" name="leavetype" autocomplete="off">
                                                    <option value="">Select leave type...</option>

                                                    <option value=""></option>
                                                    <option value="Casual Leave">Casual Leave</option>

                                                </select>
                                            </div>
                                            <script>

                                                function show2s() {
                                                    document.getElementById('div1').style.display = 'block';
                                                }
                                            </script>



                                            <!-- Leave Details -->
                                            <div class="input-field col m6 s12">
                                                <label for="fromdate"></label>
                                                <input id="sree" onchange="adddate()" name="fromdate" type="date"
                                                    class='input-group date' autocomplete="off" required>
                                            </div>

                                            <div class="input-field col m6 s12">
                                                <label for="todate"></label>
                                                <input id="sree2" onchange="adddate()" name="todate" type="date"
                                                    class='input-group date' autocomplete="off" required>

                                            </div>
                                            <p>Note : If your leave dates contains two different months, kindly apply
                                                the leaves seperately for each month.</p>

                                            <div class="input-field col m6 s12">
                                                <input style="display: none;" id="sree3" name="nofdays" min="1"
                                                    max="12">
                                                    
                                                    
                                            </div>
                                            <script>

                                                function adddate() {
                                                    date1 = document.getElementById('sree').value;
                                                    date2 = document.getElementById('sree2').value;
                                                    date1 = new Date(date1)
                                                    date2 = new Date(date2)
                                                    const diffTime = Math.abs(date2 - date1);
                                                    const diffDays = (Math.ceil(diffTime / (1000 * 60 * 60 * 24))) + 1;




                                                    var x = document.getElementById("sree3");
                                                    x.style.display = "block";
                                                    console.log(date1)
                                                    anirudh = date2
                                                    console.log(anirudh)
                                                    if (anirudh == "Invalid Date") {
                                                        document.getElementById("sree3").value = "Please specify end date"

                                                    } else {
                                                        document.getElementById("sree3").value = diffDays

                                                    }




                                                }


                                            </script>
                                            <label ></label>
                                                    <input style="display: none;" value="{{user.id}}" name="id" type="text">


                                            <div class="input-field col m12 s12">
                                                <label for="birthdate">Description</label>
                                                <textarea id="textarea1" name="description" class="materialize-textarea"
                                                    length="500" required></textarea>
                                            </div>

                                        

                                        </div>

                    <button type="submit" onclick="myFunction22()" class="waves-effect waves-light btn indigo m-b-xs">Apply
                    Leave</button>



 
                    </form>

                   






                
                
               
                    
                </script>


                

            </div>
        </div>
        </section>


        </section>
</div>

</div>
</div>
</div>
</div>
</main>
</div>
<div class="left-sidebar-hover"></div>